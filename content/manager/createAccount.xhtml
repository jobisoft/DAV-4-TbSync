<?xml version="1.0"?>
<?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>

<window width="500" height="600" onload="tbSyncDavNewAccount.onLoad();" onunload="tbSyncDavNewAccount.onUnload();"
    onclose="return tbSyncDavNewAccount.onClose()" xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

    <linkset>
        <html:link rel="localization" href="toolkit/global/wizard.ftl" />
    </linkset>

    <script type="application/javascript" src="chrome://dav4tbsync/content/manager/createAccount.js" />
    <script type="application/javascript" src="chrome://dav4tbsync/content/locales.js" />

    <wizard title="__DAV4TBSYNCMSG_add.title__" id="tbsync.newaccount.wizard" >

        <wizardpage id="firstPage" onFirstPage="true" label="__DAV4TBSYNCMSG_add.serverprofile.title__">
            <vbox flex="1">
                <description style="width: auto; margin-top:1em;">__DAV4TBSYNCMSG_add.serverprofile.description__
                </description>
                <richlistbox id="tbsync.newaccount.serviceproviderlist" seltype="single"
                    style="width: auto; height: 400px; margin-top:1ex" onselect="tbSyncDavNewAccount.clearValues();"
                    ondblclick="tbSyncDavNewAccount.advance()" />
            </vbox>
        </wizardpage>

        <wizardpage id="secondPage" label="__DAV4TBSYNCMSG_add.data.title__">
            <vbox flex="1">
                <description style="width: auto; margin-top:1em;">__DAV4TBSYNCMSG_add.data.description__</description>
                <html:table style="margin-top:1ex">
                    <html:tr id="tbsync.newaccount.name.row" width="100%">
                        <html:td width="33%">
                            <vbox pack="center"><label value="__DAV4TBSYNCMSG_add.name__" /></vbox>
                        </html:td>
                        <html:td width="67%">
                            <html:input style="width: 90%" id="tbsync.newaccount.name"
                                oninput="tbSyncDavNewAccount.checkUI();" />
                        </html:td>
                    </html:tr>
                    <html:tr id="tbsync.newaccount.user.row">
                        <html:td>
                            <vbox pack="center"><label value="__DAV4TBSYNCMSG_add.user__" /></vbox>
                        </html:td>
                        <html:td>
                            <html:input style="width: 90%" id="tbsync.newaccount.user"
                                oninput="tbSyncDavNewAccount.checkUI(true);" />
                        </html:td>
                    </html:tr>
                    <html:tr id="tbsync.newaccount.password.row">
                        <html:td>
                            <vbox pack="center"><label value="__DAV4TBSYNCMSG_add.password__" /></vbox>
                        </html:td>
                        <html:td>
                            <html:input style="width: 90%" id="tbsync.newaccount.password" type="password"
                                oninput="tbSyncDavNewAccount.checkUI(true);" />
                        </html:td>
                    </html:tr>
                    <html:tr id="tbsync.newaccount.server.row" style="margin-top:2em;">
                        <html:td>
                            <vbox pack="center"><label value="__DAV4TBSYNCMSG_add.server__" /></vbox>
                        </html:td>
                        <html:td>
                            <html:input style="width: 90%" id="tbsync.newaccount.server"
                                oninput="tbSyncDavNewAccount.checkUI(true);" />
                        </html:td>
                    </html:tr>
                    <html:tr id="tbsync.newaccount.caldavserver.row" style="margin-top:2em;">
                        <html:td>
                            <vbox pack="center"><label value="__DAV4TBSYNCMSG_add.caldavserver__" /></vbox>
                        </html:td>
                        <html:td>
                            <html:input style="width: 90%" id="tbsync.newaccount.caldavserver"
                                oninput="tbSyncDavNewAccount.checkUI(true);" />
                        </html:td>
                    </html:tr>
                    <html:tr id="tbsync.newaccount.carddavserver.row">
                        <html:td>
                            <vbox pack="center"><label value="__DAV4TBSYNCMSG_add.carddavserver__" /></vbox>
                        </html:td>
                        <html:td>
                            <html:input style="width: 90%" id="tbsync.newaccount.carddavserver"
                                oninput="tbSyncDavNewAccount.checkUI(true);" />
                        </html:td>
                    </html:tr>
                </html:table>
                <label class="header" id="tbsync.newaccount.details.header" value="__DAV4TBSYNCMSG_add.data.notes__"
                    style="margin-top:2em" />
                <description id="tbsync.newaccount.details1" style="width: auto; margin-top:1ex;"></description>
                <description id="tbsync.newaccount.details2" style="width: auto; margin-top:1ex;"></description>
                <description id="tbsync.newaccount.details3" style="width: auto; margin-top:1ex;"></description>
                <vbox flex="1">
                </vbox>
                <hbox id="tbsync.spinner">
                    <label id="tbsync.spinner.label" value="" />
                    <image src="chrome://tbsync/content/skin/spinner.gif" style="margin-left:1em" width="16"
                        height="16" />
                </hbox>
                <vbox id="tbsync.error" style="width: auto;">
                    <description id="tbsync.error.message" flex="1" style="font-weight: bold;"></description>
                    <vbox>
                        <button id="tbsync.error.link" label="__DAV4TBSYNCMSG_manager.ShowEventLog__"
                            oncommand="TbSync.eventlog.open();" />
                    </vbox>
                </vbox>
            </vbox>
        </wizardpage>

        <wizardpage id="thirdPage" label="__DAV4TBSYNCMSG_add.finish.title__">
            <vbox flex="1">
                <description style="width: auto; margin-top:1em;">__DAV4TBSYNCMSG_add.finish.description__
                </description>
                <html:table style="margin-top:1ex">
                    <html:tr flex="1">
                        <html:td width="33%">
                            <vbox pack="center"><label value="__DAV4TBSYNCMSG_add.name__" /></vbox>
                        </html:td>
                        <html:td width="67%">
                            <html:input style="width: 90%; margin:2px" id="tbsync.finalaccount.name" />
                        </html:td>
                    </html:tr>
                    <html:tr id="tbsync.newaccount.finaluser.row">
                        <html:td>
                            <vbox pack="center"><label value="__DAV4TBSYNCMSG_add.user__" /></vbox>
                        </html:td>
                        <html:td>
                            <html:input style="width: 90%; margin:2px; background-color:silver;" type="text"
                                id="tbsync.finalaccount.user" readonly="true" />
                        </html:td>
                    </html:tr>
                    <html:tr style="margin-bottom:2em;">
                    </html:tr>
                    <html:tr id="tbsyncfinalaccount.caldavserver.row">
                        <html:td>
                            <vbox pack="center"><label value="__DAV4TBSYNCMSG_add.caldavserver__" /></vbox>
                        </html:td>
                        <html:td>
                            <html:input style="width: 90%; margin:2px; background-color:silver;"
                                id="tbsync.finalaccount.caldavserver" readonly="true" />
                        </html:td>
                    </html:tr>
                    <html:tr id="tbsyncfinalaccount.carddavserver.row">
                        <html:td>
                            <vbox pack="center"><label value="__DAV4TBSYNCMSG_add.carddavserver__" /></vbox>
                        </html:td>
                        <html:td>
                            <html:input style="width: 90%; margin:2px; background-color:silver;"
                                id="tbsync.finalaccount.carddavserver" readonly="true" />
                        </html:td>
                    </html:tr>
                </html:table>
                <description id="tbsync.finalaccount.details1" style="width: auto; margin-top:2em;">
                    __DAV4TBSYNCMSG_add.finish.details__</description>
            </vbox>
        </wizardpage>

    </wizard>

</window>
